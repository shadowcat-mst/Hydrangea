use strictures 2;
use IO::Async::Loop;
use Hydrangea::JSONStream;
use Hydrangea::Branch::Scriptorium;

my $loop = IO::Async::Loop->new;

$loop->add(my $stream = Hydrangea::JSONStream->new_for_stdio);

$loop->await(Hydrangea::Branch::Scriptorium->new(
  stream => $stream,
  loop => $loop,
  script_directory => 'examples/scriptdir'
)->run)->get;
